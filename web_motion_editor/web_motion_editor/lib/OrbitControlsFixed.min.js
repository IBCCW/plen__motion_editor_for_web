THREE.OrbitControls=function(n,t){function ft(){return Math.PI/1800*i.autoRotateSpeed}function ht(){return Math.pow(.95,i.zoomSpeed)}function yt(n){if(i.enabled!==!1){if(n.preventDefault(),n.button===i.mouseButtons.ORBIT){if(i.noRotate===!0)return;u=r.ROTATE;s.set(n.clientX,n.clientY)}else if(n.button===i.mouseButtons.ZOOM){if(i.noZoom===!0)return;u=r.DOLLY;p.set(n.clientX,n.clientY)}else if(n.button===i.mouseButtons.PAN){if(i.noPan===!0)return;u=r.PAN;l.set(n.clientX,n.clientY)}u!==r.NONE&&(document.addEventListener("mousemove",ct,!1),document.addEventListener("mouseup",lt,!1),i.dispatchEvent(rt))}}function ct(n){if(i.enabled!==!1){n.preventDefault();var t=i.domElement===document?i.domElement.body:i.domElement;if(u===r.ROTATE){if(i.noRotate===!0)return;h.set(n.clientX,n.clientY);c.subVectors(h,s);i.rotateLeft(2*Math.PI*c.x/t.clientWidth*i.rotateSpeed);i.rotateUp(2*Math.PI*c.y/t.clientHeight*i.rotateSpeed);s.copy(h)}else if(u===r.DOLLY){if(i.noZoom===!0)return;w.set(n.clientX,n.clientY);b.subVectors(w,p);b.y>0?i.dollyIn():b.y<0&&i.dollyOut();p.copy(w)}else if(u===r.PAN){if(i.noPan===!0)return;a.set(n.clientX,n.clientY);v.subVectors(a,l);i.pan(v.x,v.y);l.copy(a)}u!==r.NONE&&i.update()}}function lt(){i.enabled!==!1&&(document.removeEventListener("mousemove",ct,!1),document.removeEventListener("mouseup",lt,!1),i.dispatchEvent(ut),u=r.NONE)}function at(n){if(i.enabled!==!1&&i.noZoom!==!0&&u===r.NONE){n.preventDefault();n.stopPropagation();var t=0;n.wheelDelta!==undefined?t=n.wheelDelta:n.detail!==undefined&&(t=-n.detail);t>0?i.dollyOut():t<0&&i.dollyIn();i.update();i.dispatchEvent(rt);i.dispatchEvent(ut)}}function pt(n){if(i.enabled!==!1){switch(n.touches.length){case 1:if(i.noRotate===!0)return;u=r.TOUCH_ROTATE;s.set(n.touches[0].pageX,n.touches[0].pageY);break;case 2:if(i.noZoom===!0)return;u=r.TOUCH_DOLLY;var t=n.touches[0].pageX-n.touches[1].pageX,f=n.touches[0].pageY-n.touches[1].pageY,e=Math.sqrt(t*t+f*f);p.set(0,e);break;case 3:if(i.noPan===!0)return;u=r.TOUCH_PAN;l.set(n.touches[0].pageX,n.touches[0].pageY);break;default:u=r.NONE}u!==r.NONE&&i.dispatchEvent(rt)}}function wt(n){var t;if(i.enabled!==!1){n.preventDefault();n.stopPropagation();t=i.domElement===document?i.domElement.body:i.domElement;switch(n.touches.length){case 1:if(i.noRotate===!0)return;if(u!==r.TOUCH_ROTATE)return;h.set(n.touches[0].pageX,n.touches[0].pageY);c.subVectors(h,s);i.rotateLeft(2*Math.PI*c.x/t.clientWidth*i.rotateSpeed);i.rotateUp(2*Math.PI*c.y/t.clientHeight*i.rotateSpeed);s.copy(h);i.update();break;case 2:if(i.noZoom===!0)return;if(u!==r.TOUCH_DOLLY)return;var f=n.touches[0].pageX-n.touches[1].pageX,e=n.touches[0].pageY-n.touches[1].pageY,o=Math.sqrt(f*f+e*e);w.set(0,o);b.subVectors(w,p);b.y>0?i.dollyOut():b.y<0&&i.dollyIn();p.copy(w);i.update();break;case 3:if(i.noPan===!0)return;if(u!==r.TOUCH_PAN)return;a.set(n.touches[0].pageX,n.touches[0].pageY);v.subVectors(a,l);i.pan(v.x,v.y);l.copy(a);i.update();break;default:u=r.NONE}}}function bt(){i.enabled!==!1&&(i.dispatchEvent(ut),u=r.NONE)}this.object=n;this.domElement=t!==undefined?t:document;this.enabled=!0;this.target=new THREE.Vector3;this.center=this.target;this.noZoom=!1;this.zoomSpeed=1;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.noRotate=!1;this.rotateSpeed=1;this.noPan=!1;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=- Infinity;this.maxAzimuthAngle=Infinity;this.noKeys=!1;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var i=this,k=1e-6,s=new THREE.Vector2,h=new THREE.Vector2,c=new THREE.Vector2,l=new THREE.Vector2,a=new THREE.Vector2,v=new THREE.Vector2,y=new THREE.Vector3,f=new THREE.Vector3,p=new THREE.Vector2,w=new THREE.Vector2,b=new THREE.Vector2,o,e,tt=0,it=0,d=1,g=new THREE.Vector3,et=new THREE.Vector3,ot=new THREE.Quaternion,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},u=r.NONE;this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;var st=(new THREE.Quaternion).setFromUnitVectors(n.up,new THREE.Vector3(0,1,0)),vt=st.clone().inverse(),nt={type:"change"},rt={type:"start"},ut={type:"end"};this.rotateLeft=function(n){n===undefined&&(n=ft());it-=n};this.rotateUp=function(n){n===undefined&&(n=ft());tt-=n};this.panLeft=function(n){var t=this.object.matrix.elements;y.set(t[0],t[1],t[2]);y.multiplyScalar(-n);g.add(y)};this.panUp=function(n){var t=this.object.matrix.elements;y.set(t[4],t[5],t[6]);y.multiplyScalar(n);g.add(y)};this.pan=function(n,t){var r=i.domElement===document?i.domElement.body:i.domElement;if(i.object instanceof THREE.PerspectiveCamera){var f=i.object.position,e=f.clone().sub(i.target),u=e.length();u*=Math.tan(i.object.fov/2*Math.PI/180);i.panLeft(2*n*u/r.clientHeight);i.panUp(2*t*u/r.clientHeight)}else i.object instanceof THREE.OrthographicCamera?(i.panLeft(n*(i.object.right-i.object.left)/r.clientWidth),i.panUp(t*(i.object.top-i.object.bottom)/r.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")};this.dollyIn=function(n){n===undefined&&(n=ht());i.object instanceof THREE.PerspectiveCamera?d/=n:i.object instanceof THREE.OrthographicCamera?(i.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*n)),i.object.updateProjectionMatrix(),i.dispatchEvent(nt)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")};this.dollyOut=function(n){n===undefined&&(n=ht());i.object instanceof THREE.PerspectiveCamera?d*=n:i.object instanceof THREE.OrthographicCamera?(i.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/n)),i.object.updateProjectionMatrix(),i.dispatchEvent(nt)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")};this.update=function(){var t=this.object.position,n;f.copy(t).sub(this.target);f.applyQuaternion(st);o=Math.atan2(f.x,f.z);e=Math.atan2(Math.sqrt(f.x*f.x+f.z*f.z),f.y);this.autoRotate&&u===r.NONE&&this.rotateLeft(ft());o+=it;e+=tt;o=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,o));e=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,e));e=Math.max(k,Math.min(Math.PI-k,e));n=f.length()*d;n=Math.max(this.minDistance,Math.min(this.maxDistance,n));this.target.add(g);f.x=n*Math.sin(e)*Math.sin(o);f.y=n*Math.cos(e);f.z=n*Math.sin(e)*Math.cos(o);f.applyQuaternion(vt);t.copy(this.target).add(f);this.object.lookAt(this.target);it=0;tt=0;d=1;g.set(0,0,0);(et.distanceToSquared(this.object.position)>k||8*(1-ot.dot(this.object.quaternion))>k)&&(this.dispatchEvent(nt),et.copy(this.object.position),ot.copy(this.object.quaternion))};this.reset=function(){u=r.NONE;this.target.copy(this.target0);this.object.position.copy(this.position0);this.object.zoom=this.zoom0;this.object.updateProjectionMatrix();this.dispatchEvent(nt);this.update()};this.getPolarAngle=function(){return e};this.getAzimuthalAngle=function(){return o};this.domElement.addEventListener("contextmenu",function(n){n.preventDefault()},!1);this.domElement.addEventListener("mousedown",yt,!1);this.domElement.addEventListener("mousewheel",at,!1);this.domElement.addEventListener("DOMMouseScroll",at,!1);this.domElement.addEventListener("touchstart",pt,!1);this.domElement.addEventListener("touchend",bt,!1);this.domElement.addEventListener("touchmove",wt,!1);this.update()};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;
//# sourceMappingURL=OrbitControlsFixed.min.js.map
